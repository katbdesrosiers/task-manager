@model TaskManager.Models.Project
@{
    ViewBag.Title = "Details";
}

<h2>@Model.Name</h2>
@Html.ActionLink("Back to Dashboard", "Index")

@using (Html.BeginForm("Delete", "Projects", new { id = Model.ID }))
{
    <input type="submit" value="Delete" />
}

<h3>Tasks</h3>

<ul>
    @foreach (var task in Model.Tasks)
    {
        <li>
            @task.Name <strong>@task.CompletionPercentage</strong>
            <ul>
                @foreach (var dev in task.Developers)
                {
                    <li>@dev.Email</li>
                }
            </ul>
        </li>
    }
</ul>

@using (Html.BeginForm("Create", "Tasks", new { ProjectID = Model.ID}))
{
    if (!Html.ViewData.ModelState.IsValid)
    {
        <div class="alert alert-danger">
            @Html.ValidationSummary(false, "Errors", new { @class = "text-danger" })
        </div>
    }
    @Html.Label("Name")
    <input type="text" name="Name" />
    <input type="submit" value="Add Task" name="add-task" />
}


