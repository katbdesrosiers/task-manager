@model TaskManager.Models.Project
@{ ViewBag.Title = "Details"; }

<h2><strong>Project:</strong> @Model.Name</h2>

<div style="display: flex; justify-content:space-between; align-items: center;">
    <div>
        @Html.ActionLink("Back to Dashboard", "Index", null, new { @class = "btn btn-primary" })
    </div>

    <div>
        @using (Html.BeginForm("Delete", "Projects", new { id = Model.ID }))
        {
            <input type="submit" value="Delete" class="btn btn-danger" />
        }
    </div>
</div>
<h3>Tasks</h3>

<ul>
    @foreach (var task in Model.Tasks)
    {
        <li>
            @task.Name <strong>@task.CompletionPercentage</strong>
        </li>
    }
</ul>

@using (Html.BeginForm("Create", "Tasks", new { ProjectID = Model.ID }))
{
    if (!Html.ViewData.ModelState.IsValid)
    {
        <div class="alert alert-danger">
            @Html.ValidationSummary(false, "Errors", new { @class = "text-danger" })
        </div>
    }

    <div class="form-group">
        @Html.Label("New Task")
        <input type="text" name="Name" class="form-control" />
    </div>
    <div class="form-group">
        @Html.Label("Deadline")
        <input type="date" name="Deadline" class="form-control" />
    </div>
    <div class="form-group">
        @Html.Label("Priority")
        @Html.DropDownList("Priority", (SelectList)ViewBag.Priorities, new { htmlAttributes = new { @class = "form-control" } })
    </div>
    <div class="form-group">
        @Html.Label("Developer")
        @Html.DropDownList("DeveloperID", (SelectList)ViewBag.Developers, new { htmlAttributes = new { @class = "form-control" } })
    </div>
    <input type="submit" value="Add" name="add-task" class="btn btn-primary" />
}


